import requests
import os
import ssl

ALB_ENDPOINT = f'https://ald-aws-muh-1294285603.us-west-1.elb.amazonaws.com'
TELEGRAM_BOT_TOKEN = '6671531875:AAG0nnI0XX_kneDgsOXNfclJi0V0tpuGwBU'
TELEGRAM_CHAT_ID = '6726434078'

def test_alb_connection():
    try:
        response = requests.get(ALB_ENDPOINT, verify=True)  # Disable SSL certificate verification
        if response.status_code == 200:
            print("Connection to ALB successful")
        else:
            print("Failed to connect to ALB. Status code:", response.status_code)
    except requests.RequestException as e:
        print("Failed to connect to ALB:", e)

def send_telegram_message(message):
    try:
        url = f"https://api.telegram.org/bot{TELEGRAM_BOT_TOKEN}/sendMessage"
        payload = {
            "chat_id": TELEGRAM_CHAT_ID,
            "text": message
        }
        response = requests.post(url, json=payload)
        if response.status_code == 200:
            print("Telegram message sent successfully")
        else:
            print("Failed to send Telegram message. Status code:", response.status_code)
    except requests.RequestException as e:
        print("Failed to send Telegram message:", e)

if __name__ == "__main__":
    test_alb_connection()
